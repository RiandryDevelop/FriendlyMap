{"version":3,"sources":["components/Register.jsx","components/Login.jsx","App.js","index.js"],"names":["Register","_ref","setShowRegister","_useState","useState","_useState2","Object","slicedToArray","success","setSuccess","_useState3","_useState4","error","setError","usernameRef","useRef","emailRef","passwordRef","handleSubmit","_ref2","asyncToGenerator","_regeneratorRuntime","mark","_callee","e","newUser","wrap","_context","prev","next","preventDefault","username","current","value","email","password","axios","post","t0","stop","_x","apply","this","arguments","react_default","a","createElement","className","Room","onSubmit","autoFocus","placeholder","ref","type","min","Cancel","onClick","Login","setShowLogin","setCurrentUsername","myStorage","Login_regeneratorRuntime","user","res","sent","data","setItem","API","create","baseURL","mapboxgl","workerClass","require","default","App","window","localStorage","getItem","currentUsername","pins","setPins","_useState5","_useState6","currentPlaceId","setCurrentPlaceId","_useState7","_useState8","newPlace","setNewPlace","_useState9","_useState10","title","setTitle","_useState11","_useState12","desc","setDesc","_useState13","_useState14","star","setStar","_useState15","latitude","longitude","zoom","_useState16","viewport","setViewport","_useState17","_useState18","showRegister","_useState19","_useState20","showLogin","App_regeneratorRuntime","newPin","rating","lat","long","concat","toConsumableArray","console","log","useEffect","_callee2","allPins","_context2","get","getPins","style","height","width","esm","assign","mapboxApiAccessToken","process","transitionDuration","mapStyle","onViewportChange","onDblClick","_e$lngLat","lngLat","map","p","Fragment","offsetLeft","offsetTop","fontSize","color","cursor","id","_id","objectSpread","key","closeButton","closeOnClick","onClose","anchor","Array","fill","Star","format","createdAt","onChange","target","removeItem","ReactDOM","render","StrictMode","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.4b3eede9.chunk.js","sourcesContent":["import React, { useRef, useState } from \"react\";\nimport { Cancel, Room } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport \"./register.css\";\n\nexport default function Register({ setShowRegister }) {\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState(false);\n  const usernameRef = useRef();\n  const emailRef = useRef();\n  const passwordRef = useRef();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const newUser = {\n      username: usernameRef.current.value,\n      email: emailRef.current.value,\n      password: passwordRef.current.value,\n    };\n\n    try {\n      await axios.post(\"/users/register\", newUser);\n      setError(false);\n      setSuccess(true);\n    } catch (err) {\n      setError(true);\n    }\n  };\n  return (\n    <div className=\"registerContainer\">\n      <div className=\"logo\">\n        <Room className=\"logoIcon\" />\n        <span>Friendly MAP</span>\n      </div>\n      <form onSubmit={handleSubmit}>\n        <input autoFocus placeholder=\"username\" ref={usernameRef} />\n        <input type=\"email\" placeholder=\"email\" ref={emailRef} />\n        <input\n          type=\"password\"\n          min=\"6\"\n          placeholder=\"password\"\n          ref={passwordRef}\n        />\n        <button className=\"registerBtn\" type=\"submit\">\n          Register\n        </button>\n        {success && (\n          <span className=\"success\">Successfull. You can login now!</span>\n        )}\n        {error && <span className=\"failure\">Something went wrong!</span>}\n      </form>\n      <Cancel\n        className=\"registerCancel\"\n        onClick={() => setShowRegister(false)}\n      />\n    </div>\n  );\n}\n","import React, { useRef, useState } from \"react\";\nimport { Cancel, Room } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport \"./login.css\";\n\nexport default function Login({ setShowLogin, setCurrentUsername, myStorage }) {\n  const [error, setError] = useState(false);\n  const usernameRef = useRef();\n  const passwordRef = useRef();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const user = {\n      username: usernameRef.current.value,\n      password: passwordRef.current.value,\n    };\n    try {\n      const res = await axios.post(\"/users/login\", user);\n      setCurrentUsername(res.data.username);\n      myStorage.setItem(\"user\", res.data.username);\n      setShowLogin(false);\n    } catch (err) {\n      setError(true);\n    }\n  };\n\n  return (\n    <div className=\"loginContainer\">\n      <div className=\"logo\">\n        <Room className=\"logoIcon\" />\n        <span>Friendly MAP</span>\n      </div>\n      <form onSubmit={handleSubmit}>\n        <input autoFocus placeholder=\"username\" ref={usernameRef} />\n        <input\n          type=\"password\"\n          min=\"6\"\n          placeholder=\"password\"\n          ref={passwordRef}\n        />\n        <button className=\"loginBtn\" type=\"submit\">\n          Login\n        </button>\n        {error && <span className=\"failure\">Something went wrong!</span>}\n      </form>\n      <Cancel className=\"loginCancel\" onClick={() => setShowLogin(false)} />\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport \"./app.css\";\nimport ReactMapGL, { Marker, Popup } from \"react-map-gl\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport mapboxgl from \"mapbox-gl\";\nimport { Room, Star } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport { format } from \"timeago.js\";\nimport Register from \"./components/Register\";\nimport Login from \"./components/Login\";\n\nconst API = axios.create({ baseURL: \"https://mernfriendlymap.herokuapp.com/\" });\n// eslint-disable-next-line import/no-webpack-loader-syntax\nmapboxgl.workerClass = require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\n\nfunction App() {\n  const myStorage = window.localStorage;\n  const [currentUsername, setCurrentUsername] = useState(\n    myStorage.getItem(\"user\")\n  );\n  const [pins, setPins] = useState([]);\n  const [currentPlaceId, setCurrentPlaceId] = useState(null);\n  const [newPlace, setNewPlace] = useState(null);\n  const [title, setTitle] = useState(null);\n  const [desc, setDesc] = useState(null);\n  const [star, setStar] = useState(0);\n  const [viewport, setViewport] = useState({\n    latitude: 34.0194,\n    longitude: -118.411,\n    zoom: 6,\n  });\n  const [showRegister, setShowRegister] = useState(false);\n  const [showLogin, setShowLogin] = useState(false);\n\n  const handleMarkerClick = (id, lat, long) => {\n    setCurrentPlaceId(id);\n    setViewport({ ...viewport, latitude: lat, longitude: long });\n  };\n\n  const handleAddClick = (e) => {\n    const [longitude, latitude] = e.lngLat;\n    setNewPlace({\n      lat: latitude,\n      long: longitude,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const newPin = {\n      username: currentUsername,\n      title,\n      desc,\n      rating: star,\n      lat: newPlace.lat,\n      long: newPlace.long,\n    };\n\n    try {\n      const res = await API.post(\"/pins\", newPin);\n      setPins([...pins, res.data]);\n      setNewPlace(null);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    const getPins = async () => {\n      try {\n        const allPins = await API.get(\"/pins\");\n        setPins(allPins.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getPins();\n  }, []);\n\n  const handleLogout = () => {\n    setCurrentUsername(null);\n    myStorage.removeItem(\"user\");\n  };\n\n  return (\n    <div style={{ height: \"100vh\", width: \"100%\" }}>\n      <ReactMapGL\n        {...viewport}\n        mapboxApiAccessToken={process.env.REACT_APP_MAPBOX}\n        width=\"100%\"\n        height=\"100%\"\n        transitionDuration=\"200\"\n        mapStyle=\"mapbox://styles/safak/cknndpyfq268f17p53nmpwira\"\n        onViewportChange={(viewport) => setViewport(viewport)}\n        onDblClick={currentUsername && handleAddClick}\n      >\n        {pins.map((p) => (\n          <>\n            <Marker\n              latitude={p.lat}\n              longitude={p.long}\n              offsetLeft={-3.5 * viewport.zoom}\n              offsetTop={-7 * viewport.zoom}\n            >\n              <Room\n                style={{\n                  fontSize: 7 * viewport.zoom,\n                  color:\n                    currentUsername === p.username ? \"tomato\" : \"slateblue\",\n                  cursor: \"pointer\",\n                }}\n                onClick={() => handleMarkerClick(p._id, p.lat, p.long)}\n              />\n            </Marker>\n            {p._id === currentPlaceId && (\n              <Popup\n                key={p._id}\n                latitude={p.lat}\n                longitude={p.long}\n                closeButton={true}\n                closeOnClick={false}\n                onClose={() => setCurrentPlaceId(null)}\n                anchor=\"left\"\n              >\n                <div className=\"card\">\n                  <label>Place</label>\n                  <h4 className=\"place\">{p.title}</h4>\n                  <label>Review</label>\n                  <p className=\"desc\">{p.desc}</p>\n                  <label>Rating</label>\n                  <div className=\"stars\">\n                    {Array(p.rating).fill(<Star className=\"star\" />)}\n                  </div>\n                  <label>Information</label>\n                  <span className=\"username\">\n                    Created by <b>{p.username}</b>\n                  </span>\n                  <span className=\"date\">{format(p.createdAt)}</span>\n                </div>\n              </Popup>\n            )}\n          </>\n        ))}\n        {newPlace && (\n          <>\n            <Marker\n              latitude={newPlace.lat}\n              longitude={newPlace.long}\n              offsetLeft={-3.5 * viewport.zoom}\n              offsetTop={-7 * viewport.zoom}\n            >\n              <Room\n                style={{\n                  fontSize: 7 * viewport.zoom,\n                  color: \"tomato\",\n                  cursor: \"pointer\",\n                }}\n              />\n            </Marker>\n            <Popup\n              latitude={newPlace.lat}\n              longitude={newPlace.long}\n              closeButton={true}\n              closeOnClick={false}\n              onClose={() => setNewPlace(null)}\n              anchor=\"left\"\n            >\n              <div>\n                <form onSubmit={handleSubmit}>\n                  <label>Title</label>\n                  <input\n                    placeholder=\"Enter a title\"\n                    autoFocus\n                    onChange={(e) => setTitle(e.target.value)}\n                  />\n                  <label>Description</label>\n                  <textarea\n                    placeholder=\"Say us something about this place.\"\n                    onChange={(e) => setDesc(e.target.value)}\n                  />\n                  <label>Rating</label>\n                  <select onChange={(e) => setStar(e.target.value)}>\n                    <option value=\"1\">1</option>\n                    <option value=\"2\">2</option>\n                    <option value=\"3\">3</option>\n                    <option value=\"4\">4</option>\n                    <option value=\"5\">5</option>\n                  </select>\n                  <button type=\"submit\" className=\"submitButton\">\n                    Add Pin\n                  </button>\n                </form>\n              </div>\n            </Popup>\n          </>\n        )}\n        {currentUsername ? (\n          <button className=\"button logout\" onClick={handleLogout}>\n            Log out\n          </button>\n        ) : (\n          <div className=\"buttons\">\n            <button className=\"button login\" onClick={() => setShowLogin(true)}>\n              Log in\n            </button>\n            <button\n              className=\"button register\"\n              onClick={() => setShowRegister(true)}\n            >\n              Register\n            </button>\n          </div>\n        )}\n        {showRegister && <Register setShowRegister={setShowRegister} />}\n        {showLogin && (\n          <Login\n            setShowLogin={setShowLogin}\n            setCurrentUsername={setCurrentUsername}\n            myStorage={myStorage}\n          />\n        )}\n      </ReactMapGL>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}